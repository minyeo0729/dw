<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body { margin: 0; cursor: pointer;}
        .container { background: #333; width: 350px; height: 350px; position: relative; overflow: hidden; max-width: 350px; margin: 0 auto; }
        .icon { position: absolute; left: 50%; bottom: 0; margin-left: -25px; }
        .albert { transform-origin: 50% 50%; }
    </style>
</head>

<body>
    <div class="container">
        <div class="icon">
            <svg class="albert" width="50" height="50" viewBox="0 0 50 50" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_26_39)">
                    <path
                        d="M42.2002 38.3998C40.2002 37.6998 38.4002 39.5998 39.2002 41.5998C40.2002 43.9998 37.2002 46.0998 35.3002 44.1998C33.8002 42.6998 31.3002 43.7998 31.2002 45.8998C31.1002 48.4998 27.6002 49.1998 26.6002 46.6998C25.8002 44.7998 23.1002 44.6998 22.2002 46.5998C21.1002 48.9998 17.6002 48.0998 17.6002 45.4998C17.7002 43.3998 15.2002 42.1998 13.6002 43.5998C11.6002 45.2998 8.7002 43.0998 9.9002 40.6998C10.8002 38.7998 9.1002 36.7998 7.1002 37.3998C4.7002 38.1998 3.0002 34.9998 5.0002 33.2998C6.6002 31.9998 5.8002 29.3998 3.8002 29.0998C1.2002 28.7998 0.900198 25.0998 3.4002 24.3998C5.4002 23.7998 5.8002 21.0998 4.0002 20.0998C1.8002 18.7998 3.0002 15.2998 5.6002 15.6998C7.7002 15.9998 9.1002 13.6998 7.9002 11.9998C6.4002 9.89984 8.9002 7.19984 11.1002 8.59984C12.9002 9.69984 15.1002 8.19984 14.7002 6.09984C14.2002 3.49984 17.6002 2.19984 19.0002 4.29984C20.2002 5.99984 22.8002 5.49984 23.3002 3.49984C23.9002 0.899842 27.5002 0.999842 28.0002 3.59984C28.4002 5.69984 31.0002 6.29984 32.3002 4.59984C33.9002 2.49984 37.2002 4.09984 36.5002 6.59984C36.0002 8.59984 38.1002 10.2998 40.0002 9.29984C42.3002 7.99984 44.6002 10.7998 43.0002 12.8998C41.7002 14.4998 43.0002 16.8998 45.1002 16.7998C47.7002 16.5998 48.7002 20.0998 46.4002 21.2998C44.6002 22.2998 44.8002 24.9998 46.7002 25.6998C49.2002 26.5998 48.7002 30.1998 46.1002 30.2998C44.0002 30.3998 43.1002 32.9998 44.6002 34.3998C46.5002 36.1998 44.6002 39.2998 42.2002 38.3998Z"
                        fill="#3C9608" />
                    <path
                        d="M28.9 49.8999C27.5 49.8999 26.2 49.0999 25.7 47.6999L25.4 46.9999C25.2 46.3999 24.6 46.2999 24.4 46.2999C24.2 46.2999 23.7 46.2999 23.4 46.8999L23.1 47.5999C22.4 49.1999 20.8 49.8999 19.1 49.4999C17.4 49.0999 16.3 47.6999 16.4 45.9999V45.2999C16.4 44.6999 15.9 44.3999 15.8 44.2999C15.7 44.1999 15.1 43.9999 14.6 44.4999L14.1 44.9999C12.9 45.9999 11.1 45.9999 9.70003 44.9999C8.30003 43.9999 7.90003 42.1999 8.70003 40.6999L9.00003 39.9999C9.30003 39.3999 9.00003 38.9999 8.90003 38.7999C8.80003 38.5999 8.40003 38.2999 7.80003 38.4999L7.10003 38.6999C5.40003 39.1999 3.80003 38.4999 3.00003 36.9999C2.20003 35.4999 2.50003 33.6999 3.80003 32.5999L4.40003 32.0999C4.90003 31.6999 4.80003 31.0999 4.70003 30.9999C4.70003 30.7999 4.50003 30.2999 3.80003 30.1999L3.10003 30.0999C1.40003 29.9999 0.10003 28.6999 2.99448e-05 26.9999C-0.0999701 25.2999 0.90003 23.7999 2.50003 23.2999L3.20003 23.0999C3.90003 22.9999 4.00003 22.3999 4.00003 22.2999C4.00003 22.0999 4.00003 21.5999 3.50003 21.2999L2.90003 20.8999C1.40003 19.9999 0.80003 18.2999 1.40003 16.6999C2.00003 15.0999 3.50003 14.1999 5.20003 14.3999L5.90003 14.4999C6.50003 14.5999 6.90003 14.0999 7.00003 13.9999C7.10003 13.8999 7.30003 13.3999 7.00003 12.7999L6.60003 12.1999C5.60003 10.7999 5.80003 8.99994 6.90003 7.79994C8.10003 6.59994 9.90003 6.29994 11.3 7.19994L11.9 7.59994C12.4 7.89994 12.9 7.69994 13.1 7.59994C13.2 7.49994 13.7 7.19994 13.5 6.49994L13.4 5.79994C13.1 4.09994 13.9 2.49994 15.5 1.89994C17.1 1.19994 18.8 1.79994 19.8 3.19994L20.2 3.79994C20.6 4.29994 21.1 4.29994 21.3 4.29994C21.5 4.29994 22 4.09994 22.1 3.49994L22.3 2.79994C22.6 0.999939 24.1 -0.100061 25.7 -6.10077e-05C27.4 -6.10077e-05 28.8 1.19994 29.1 2.89994L29.2 3.59994C29.3 4.19994 29.8 4.39994 30 4.39994C30.2 4.39994 30.7 4.49994 31.1 3.99994L31.5 3.39994C32.5 1.99994 34.3 1.59994 35.8 2.39994C37.4 3.09994 38.1 4.79994 37.7 6.39994L37.5 7.09994C37.3 7.69994 37.8 8.09994 37.9 8.19994C38 8.29994 38.5 8.59994 39.1 8.29994L39.8 7.99994C41.3 7.19994 43.1 7.49994 44.2 8.79994C45.3 10.0999 45.4 11.8999 44.3 13.2999L43.9 13.8999C43.5 14.3999 43.7 14.8999 43.8 15.0999C43.9 15.1999 44.2 15.6999 44.8 15.6999L45.5 15.5999C47.2 15.3999 48.7 16.4999 49.2 18.0999C49.7 19.6999 49 21.3999 47.5 22.1999L46.9 22.4999C46.3 22.7999 46.3 23.3999 46.3 23.4999C46.3 23.6999 46.4 24.1999 47 24.3999L47.7 24.5999C49.3 25.1999 50.3 26.6999 50 28.3999C49.8 30.0999 48.5 31.2999 46.8 31.3999H46.1C45.5 31.3999 45.2 31.8999 45.2 32.0999C45.1 32.2999 45 32.7999 45.5 33.1999L46 33.6999C47.3 34.8999 47.5 36.5999 46.6 38.0999C45.7 39.5999 44 40.0999 42.4 39.5999L41.7 39.3999C41.1 39.1999 40.7 39.4999 40.6 39.6999C40.5 39.7999 40.1 40.1999 40.4 40.7999L40.7 41.4999C41.4 43.0999 40.9 44.7999 39.4 45.7999C38 46.7999 36.2 46.5999 35 45.3999L34.5 44.8999C34 44.4999 33.5 44.5999 33.4 44.6999C33.2 44.7999 32.8 44.9999 32.7 45.6999V46.3999C32.7 48.0999 31.5 49.4999 29.8 49.7999C29.3 49.7999 29.1 49.8999 28.9 49.8999ZM24.4 43.7999H24.5C25.9 43.7999 27.1 44.6999 27.7 45.9999L28 46.6999C28.3 47.3999 29 47.3999 29.2 47.2999C29.4 47.2999 30.1 47.0999 30.1 46.2999V45.5999C30.1 44.1999 31 42.9999 32.3 42.3999C33.6 41.8999 35.1 42.0999 36.1 43.0999L36.6 43.5999C37.2 44.1999 37.8 43.7999 37.9 43.6999C38.1 43.5999 38.6 43.1999 38.3 42.3999L38 41.6999C37.4 40.3999 37.7 38.8999 38.7 37.8999C39.7 36.8999 41.1 36.4999 42.5 36.9999L43.2 37.1999C44 37.4999 44.4 36.8999 44.5 36.7999C44.6 36.5999 44.9 35.9999 44.3 35.4999L43.8 34.9999C42.8 33.9999 42.4 32.5999 42.9 31.2999C43.4 29.9999 44.6 29.0999 46 28.9999H46.7C47.5 28.8999 47.7 28.2999 47.7 28.0999C47.7 27.8999 47.8 27.1999 47 26.9999L46.3 26.7999C45 26.2999 44.1 25.1999 43.9 23.6999C43.8 22.2999 44.5 20.9999 45.8 20.2999L46.4 19.9999C47.1 19.5999 47 18.9999 46.9 18.7999C46.8 18.5999 46.6 17.9999 45.8 17.9999H44.9C43.5 18.0999 42.2 17.3999 41.5 16.1999C40.8 14.8999 40.9 13.4999 41.8 12.3999L42.2 11.7999C42.7 11.1999 42.3 10.5999 42.2 10.4999C42.1 10.2999 41.6 9.89994 40.9 10.2999L40.3 10.5999C39.1 11.2999 37.6 11.1999 36.5 10.2999C35.4 9.39994 34.9 7.99994 35.2 6.69994L35.4 5.99994C35.6 5.19994 35 4.89994 34.8 4.79994C34.6 4.59994 34 4.39994 33.5 4.99994L33.1 5.59994C32.2 6.69994 30.8 7.19994 29.5 6.89994C28.1 6.59994 27.1 5.49994 26.9 4.09994L26.8 3.39994C26.7 2.59994 26 2.49994 25.8 2.49994C25.6 2.49994 24.9 2.49994 24.7 3.29994L24.5 3.99994C24.2 5.39994 23.1 6.39994 21.7 6.69994C20.3 6.99994 18.9 6.39994 18.1 5.19994L17.7 4.59994C17.3 3.89994 16.6 4.09994 16.4 4.19994C16.2 4.29994 15.6 4.59994 15.8 5.39994L15.9 5.99994C16.2 7.39994 15.6 8.79994 14.4 9.59994C13.2 10.3999 11.7 10.3999 10.5 9.69994L10 9.29994C9.30003 8.89994 8.80003 9.29994 8.70003 9.49994C8.60003 9.59994 8.10003 10.1999 8.60003 10.7999L9.00003 11.3999C9.80003 12.5999 9.90003 13.9999 9.10003 15.2999C8.40003 16.4999 7.00003 17.0999 5.60003 16.8999L4.90003 16.7999C4.10003 16.6999 3.80003 17.2999 3.80003 17.4999C3.70003 17.6999 3.60003 18.2999 4.30003 18.7999L4.90003 19.1999C6.10003 19.8999 6.80003 21.2999 6.60003 22.6999C6.40003 24.0999 5.40003 25.1999 4.10003 25.5999L3.40003 25.7999C2.60003 25.9999 2.60003 26.6999 2.60003 26.8999C2.60003 27.0999 2.70003 27.7999 3.50003 27.8999L4.20003 27.9999C5.50003 28.0999 6.60003 28.9999 7.00003 30.3999C7.40003 31.7999 7.00003 33.1999 5.90003 34.0999L5.30003 34.5999C4.70003 35.0999 5.00003 35.6999 5.00003 35.8999C5.10003 36.0999 5.50003 36.5999 6.20003 36.3999L6.90003 36.1999C8.30003 35.7999 9.70003 36.1999 10.6 37.2999C11.5 38.3999 11.7 39.8999 11.1 41.0999L10.8 41.6999C10.4 42.3999 10.9 42.8999 11.1 42.9999C11.3 43.0999 11.8 43.4999 12.4 42.9999L12.9 42.4999C14 41.5999 15.4 41.3999 16.7 41.9999C18 42.5999 18.7 43.8999 18.7 45.2999V45.9999C18.7 46.7999 19.3 46.9999 19.5 47.0999C19.7 47.0999 20.4 47.1999 20.7 46.4999L21 45.7999C21.8 44.5999 23 43.7999 24.4 43.7999Z"
                        fill="black" />
                    <path
                        d="M28.8997 20.8C28.8997 21.9 28.4997 25.9 32.9997 25.9C37.3997 25.9 37.0997 21.9 37.0997 20.8H28.8997Z"
                        fill="white" />
                    <path
                        d="M32.9 27.1001C31.3 27.1001 29.9 26.6001 29 25.7001C27.5 24.2001 27.6 21.9001 27.6 21.0001V20.8001C27.6 20.1001 28.2 19.6001 28.8 19.6001L36.9 19.7001C37.6 19.7001 38.1 20.3001 38.1 20.9001V21.1001C38.1 22.1001 38.1 24.3001 36.6 25.8001C35.9 26.7001 34.6 27.1001 32.9 27.1001ZM30.1 22.0001C30.1 22.7001 30.3 23.5001 30.8 24.0001C31.2 24.5001 31.9 24.7001 32.9 24.7001C33.8 24.7001 34.5 24.5001 35 24.0001C35.5 23.5001 35.7 22.7001 35.7 22.0001H30.1Z"
                        fill="black" />
                    <path
                        d="M32.9503 23.5005C33.6676 23.4701 34.2264 22.9086 34.1983 22.2465C34.1702 21.5843 33.566 21.0722 32.8486 21.1026C32.1313 21.1331 31.5726 21.6945 31.6006 22.3566C31.6287 23.0188 32.233 23.5309 32.9503 23.5005Z"
                        fill="black" />
                    <path
                        d="M13.5999 20.8C13.5999 21.9 13.1999 25.9 17.6999 25.9C22.0999 25.9 21.7999 21.9 21.7999 20.8H13.5999Z"
                        fill="white" />
                    <path
                        d="M17.6998 27.1C16.0998 27.1 14.6998 26.6 13.7998 25.7C12.2998 24.2 12.3998 21.9 12.3998 21V20.8C12.3998 20.5 12.4998 20.2 12.7998 19.9C12.9998 19.7 13.2998 19.5 13.6998 19.5L21.7998 19.6C22.4998 19.6 22.9998 20.2 22.9998 20.8V21C22.9998 22 22.9998 24.2 21.4998 25.7C20.5998 26.7 19.2998 27.1 17.6998 27.1ZM14.8998 22C14.8998 22.7 15.0998 23.5 15.5998 24C15.9998 24.5 16.6998 24.7 17.6998 24.7C18.5998 24.7 19.2998 24.5 19.7998 24C20.2998 23.5 20.4998 22.7 20.4998 22H14.8998Z"
                        fill="black" />
                    <path class="mouth"
                        d="M26.3 32.9H23.7C23.6496 32.9 23.6056 32.8819 23.5645 32.8384C23.5189 32.7901 23.5022 32.7359 23.5002 32.706C23.5013 32.702 23.5038 32.6941 23.5093 32.6823C23.5224 32.6542 23.5464 32.6178 23.5821 32.5821C23.6178 32.5464 23.6542 32.5224 23.6823 32.5093C23.6949 32.5034 23.7031 32.5009 23.7068 32.5H26.3C26.3504 32.5 26.3944 32.5181 26.4355 32.5616C26.4843 32.6133 26.5 32.6718 26.5 32.7C26.5 32.7282 26.4843 32.7867 26.4355 32.8384C26.3944 32.8819 26.3504 32.9 26.3 32.9Z"
                        fill="white" stroke="black" stroke-width="2" />
                    <path
                        d="M17.5499 23.499C18.2672 23.4686 18.826 22.9072 18.7979 22.245C18.7698 21.5829 18.1656 21.0708 17.4482 21.1012C16.7309 21.1316 16.1722 21.693 16.2003 22.3552C16.2283 23.0173 16.8326 23.5294 17.5499 23.499Z"
                        fill="black" />
                </g>
                <defs>
                    <clipPath id="clip0_26_39">
                        <rect width="50" height="49.9" fill="white" />
                    </clipPath>
                </defs>
            </svg>
        </div><!-- .icon -->
    </div><!-- .container -->



    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
    <script>

        var jump = new TimelineMax({ repeat: -1 });
        var clickjump = new TimelineMax({});
        var container = document.querySelector(".container")
        var albert = document.querySelector(".albert");
        var mouth = document.querySelector(".mouth");
        var regular = 0;

        regularJump();
        clickJump();

        function regularJump() {
            jump
                .to(albert, 0.5, { y: -110, ease: Sine.easeOut })
                .to(mouth, 0.1, { scaleY: 4, ease: Sine.ease }, "-=.3")
                .to(mouth, 0.1, { scaleY: 1, ease: Sine.ease })
                .to(albert, 1, { rotation: -180, transformOrigin: "center center" }, "-=.5")
                .to(albert, 0.5, { y: regular, ease: Sine.easeIn }, "-=.5")
                .to(albert, 1, { rotation: -360, transformOrigin: "center center" })
                .to(albert, 0.5, { y: -100, ease: Sine.easeOut }, "-=1")
                .to(albert, 0.5, { y: regular, ease: Sine.easeIn }, "-=.5")
                .to(albert, 0.5, { y: -90, ease: Sine.easeOut })
                .to(mouth, 0.1, { scaleY: 4, ease: Sine.ease }, "-=.3")
                .to(mouth, 0.1, { scaleY: 1, ease: Sine.ease })
                .to(albert, 2, { rotation: 0, transformOrigin: "center center" }, "-=.5")
                .to(albert, 0.5, { y: regular, ease: Sine.easeIn }, "-=1.5")
                .to(albert, 0.5, { y: -80, ease: Sine.easeOut }, "-=1")
                .to(albert, 0.5, { y: regular, ease: Sine.easeIn }, "-=.5");
        }

        //check easing, duration
        function clickJump() {
            container.addEventListener("click", (event) => {
                var containerX = container.offsetWidth;
                var clientX = event.clientX; // 클릭한 위치
                var albertX = albert.getBoundingClientRect().left + albert.getBoundingClientRect().width / 2;
                var gsapX = gsap.getProperty(albert, "x");
                var centerX = albertX - gsapX; // 박스 안에서 곰팡이 중앙을 기준으로한 위치 - gsap 초기위치 기준 현재 공팡이의 위치
                var direcntionX = clientX - centerX; // 클릭한 위치 - (곰팡이 위치 + 공팡이 크기의 절반 - 중앙기준에서 공팡위 위치)

                console.log(gsapX);

                if( clientX > albertX ) { // 오른쪽으로
                    if((containerX / 2) < (direcntionX+(albert.getBoundingClientRect().width / 2))){
                        direcntionX = (containerX / 2) - (albert.getBoundingClientRect().width / 2);
                    }
                    // 실제이동위치 + 25 (25인 이유는 절반 넘어가니까) > 150 이면 
                    // 실제이동위치가 125 왜냐면 절반 25빼고 끊겨야되니까 

                } else { // 왼쪽으로
                    if((containerX / 2) < ((direcntionX-(albert.getBoundingClientRect().width / 2)) * -1)){
                        direcntionX = ((containerX / 2)-(albert.getBoundingClientRect().width / 2)) * -1;
                    }
                }

                clickjump.to(albert, 1, { x: direcntionX, ease: Sine.easeOut })

                console.log(containerX)
            })
        }

    </script>

</body>

</html>